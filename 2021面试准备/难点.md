我在实习中遇到的一个难点是做一个 **do undo**的需求，一个类似于撤销修改的操作

**场景：**一个编辑页面，里面有很多可编辑的模块，整体有一个保存按钮与后端完成保存的交互。

其中有一个类似于表格一样每行独立编辑的数据，在每行的末尾可以进行保存。

可以实现多行同时进入编辑状态的操作，同时在与后端没有交互的情况下完成取消编辑返回初始状态，难点是同时储存多个初始对象。



原始解决方案：在每一行进入编辑状态时，对于这行的编辑对象新增一个属性来保存整个对象，使用JSON.stringify()来完成整个对象的**深拷贝**，这样不会产生对象指针赋值导致的内容修改问题。整体仍使用v-model完成编辑，只是在取消时对临时对象进行JSON.parse()完成undo操作。**缺点**内容复杂量大时对性能有所降低，而且深拷贝有局限性(引出JSON.stringify的特性)

优化解决：使用immutablejs来完成undo的操作，一种持久化数据结构